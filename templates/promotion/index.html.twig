{% extends 'base.html.twig' %}
{% trans_default_domain 'crud' %}

{% block title %}{{ 'promotion.list.title'|trans }}{% endblock %}

{% block body %}
    <h1>{{ 'promotion.list.title'|trans }}</h1>

    <table class="table">
        <thead>
            <tr>
                <th>{{ 'promotion.fields.id'|trans }}</th>
                <th>{{ 'promotion.fields.amount'|trans }}</th>
                <th>{{ 'promotion.fields.reduction'|trans }}</th>
                <th>{{ 'promotion.fields.is_delivery_free'|trans }}</th>
                <th>{{ 'promotion.fields.nb_uses'|trans }}</th>
                <th>{{ 'promotion.fields.nb_products'|trans }}</th>
                <th>{{ 'promotion.fields.start_date'|trans }}</th>
                <th>{{ 'promotion.fields.end_date'|trans }}</th>
                <th>{{ 'promotion.fields.type'|trans }}</th>
                <th>{{ 'global.actions'|trans }}</th>
            </tr>
        </thead>
        <tbody>
        {% for promotion in promotions %}
            <tr>
                <td>{{ promotion.id }}</td>
                <td>{{ promotion.amount }}</td>
                <td>{{ promotion.reduction }}</td>
                <td>{{ promotion.isDeliveryFree ? 'Yes' : 'No' }}</td>
                <td>{{ promotion.nbUses }}</td>
                <td>{{ promotion.nbProducts }}</td>
                <td>{{ promotion.startDate ? promotion.startDate|date('Y-m-d') : '' }}</td>
                <td>{{ promotion.endDate ? promotion.endDate|date('Y-m-d') : '' }}</td>
                <td>{{ ('promotion.' ~ promotion.type)|trans({}, 'enum') }}</td>
                <td>
                    <a href="{{ path('promotion_show', {'id': promotion.id}) }}">{{ 'global.show'|trans }}</a>
                    <a href="{{ path('promotion_edit', {'id': promotion.id}) }}">{{ 'global.edit'|trans }}</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="10">{{ 'global.no_record_found'|trans }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('promotion_new') }}" class="btn btn-primary">{{ 'global.create_new'|trans }}</a>
{% endblock %}
